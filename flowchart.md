flowchart TD
    A(["開始"]) --> B["Arduino 連接 WiFi"]
    B --> C{"WiFi 連接成功?"}
    C -- 是 --> D["接收感測器數據並打包成json"]
    C -- 否 --> B
    D --> E[/"發送數據到後端 API"/]
    E --> F{"後端接收到數據?"}
    F -- 是 --> G[/"儲存數據到資料庫"/]
    F -- 否 --> D
    G --> H[/"後端回應成功訊息"/]
    H --> I[/"前端 React 每 5 秒請求最新數據"/]
    J{"後端回應數據?"} -- 是 --> L{"是否有數據更新?"}
    J -- 否 --> I
    L -- 是 --> T[/"更新前端顯示的數據與圖表"/]
    T --> M["檢查數據是否超過閾值"]
    L -- 否 --> R{"檢測數據是否超過十秒沒有更新?"}
    R -- 是 --> S[/"輸出連線異常訊息"/]
    S --> R
    R -- 否 --> I
    M --> N{"數據超過閾值?"}
    N -- 是 --> O[/"發送通知"/]
    N -- 否 --> I
    O --> P[/"顯示警告訊息"/]
    P --> I
    I --> Q{"使用者是否關閉網頁或關閉後端?"}
    Q -- 是 --> Z(["結束"])
    Q -- 否 --> J
    F --> n1["Untitled Node"]